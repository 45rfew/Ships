Array::add = (mod) -> @map (val) -> val + mod
Array::mult = (mod) -> @map (val) -> val * mod
Array::div = (mod) -> @map (val) -> val / mod
Array::step = (step) -> i for i in @ by step
Array::fill = (val, len) -> val for i in (
  if len
  then [0...len]
  else if @length == 1
  then [0...@[0]]
  else @
)
for key, value of []
  delete Array::[key]
  Object.defineProperty Array::, key,
    value: value
    configurable: true
    enumerable: false
model =
  name: 'Pattern'
  level: 1
  model: 1
  size: 5
  specs:
    shield:
      capacity: [50000,50000]
      reload: [2500,2500]
    generator:
      capacity: [2000,2000]
      reload: [2000,2000]
    ship:
      mass: 1000
      speed: [100,100]
      rotation: [100,100]
      acceleration: [100,100]  
  bodies: {}
a = [2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,2,4,63,3,6,7,]
b = [50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,50,60,70,]
for i in [0..200]
  model.bodies['a'+i] =
    section_segments: [40,45,50,130,135,140,220,225230,310,315,320]
    offset:
      x: 0
      y: 0
      z: 0.005*i
    position:
      x: [0,0,0,0].add(i*0.2)
      y: [-2,-2,2,2].add(i*0.2)
      z: [0,0,0,0]
    width: [0,3,3,0]
    height: [0,3,3,0]
    texture: [a[i]]
    angle: i*50
  model.bodies['b'+i] =
    section_segments: [40,45,50,130,135,140,220,225230,310,315,320]
    offset:
      x: 0
      y: 0
      z: i*0.2
    position:
      x: [50,50,50,50].add(i*-0.24)
      y: [-2,-2,2,2].add(i*-0)
      z: [0,0,0,0]
    width: [0,3,3,0]
    height: [0,3,3,0]
    texture: [a[i]]
    angle: i*50      
    laser:    
      damage: [10,10]
      rate: 0.75
      speed: [b[i],b[i]]
      number: 1
return model;
